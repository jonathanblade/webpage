---
import Moon from "./icons/Moon.astro";
import NavOpen from "./icons/NavOpen.astro";
import NavClose from "./icons/NavClose.astro";
import Sun from "./icons/Sun.astro";

const items = [
  {'href': '/', 'text': 'Главная'},
  {'href': '/about/', 'text': 'Обо мне'},
  {'href': '/blog/', 'text': 'Блог'},
  {'href': '/projects/', 'text': 'Проекты'},
];
---

<header class="sticky top-0 z-50">
  <nav
    class="flex items-center justify-center text-center bg-base-100 shadow-xl"
    x-data="{navOpen: false}"
  >
  <ul class="md:flex">
      {items.map(item =>
      <li
        class={Astro.canonicalURL.pathname.slice(0, 2) === item.href.slice(0, 2) ? "active md:block" : "md:block"}
        x-bind:class="navOpen ? 'navOpen' : 'hidden'">
        <a
          class="block p-5 font-medium uppercase md:hover:text-accent"
          href={item.href}
          >{item.text}</a
        >
      </li>
      )}
    </ul>
    <button data-toggle-theme="night" data-act-class="swap-active" class="absolute top-0 left-0 p-5 swap swap-rotate md:hover:text-accent" aria-label="theme">
      <Moon />
      <Sun />
    </button>
    <button x-on:click="navOpen = !navOpen" class="absolute top-0 right-0 p-5 md:hidden" aria-label="nav">
      <NavOpen />
      <NavClose />
    </button>
  </nav>
</header>

<style lang="scss">
  ul {
    li.active {
      display: block;
    }
    &.open {
      li {
        display: block !important;
      }
    }
  }
</style>
